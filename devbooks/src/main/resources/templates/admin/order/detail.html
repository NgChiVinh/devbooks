<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Chi tiết Đơn hàng</title>
</head>
<body>

<h1>Chi tiết Đơn hàng #<span th:text="${order.id}">1</span></h1>

<h3>Thông tin Khách hàng</h3>
<p><strong>Tên:</strong> <span th:text="${order.user.fullName}">Admin User</span></p>
<p><strong>Email:</strong> <span th:text="${order.user.email}">admin@devbooks.com</span></p>
<p><strong>Địa chỉ giao hàng:</strong> <span th:text="${order.shippingAddress}">123 ABC, Q1, TPHCM</span></p>

<h3>Thông tin Đơn hàng</h3>
<p><strong>Ngày đặt:</strong> <span th:text="${#temporals.format(order.orderDate, 'dd-MM-yyyy HH:mm')}"></span></p>
<p><strong>Trạng thái:</strong> <span th:text="${order.status}">Chờ xử lý</span></p>
<p><strong>Tổng tiền:</strong> <span th:text="${#numbers.formatDecimal(order.totalAmount, 0, 'COMMA', 0, 'POINT')} + ' VNĐ'"></span></p>

<h3>Các sản phẩm trong đơn</h3>
<table border="1">
    <thead>
    <tr>
        <th>Tên sách</th>
        <th>Số lượng</th>
        <th>Đơn giá</th>
        <th>Thành tiền</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="detail : ${order.orderDetails}">
        <td th:text="${detail.book.title}">Tên sách</td>
        <td th:text="${detail.quantity}">1</td>
        <td th:text="${#numbers.formatDecimal(detail.pricePerUnit, 0, 'COMMA', 0, 'POINT')} + ' VNĐ'"></td>
        <td th:text="${#numbers.formatDecimal(detail.quantity * detail.pricePerUnit, 0, 'COMMA', 0, 'POINT')} + ' VNĐ'"></td>
    </tr>
    </tbody>
</table>
<br/>

<a th:href="@{/admin/orders}">Quay lại danh sách</a>

</body>
</html>